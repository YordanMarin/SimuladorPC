<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador PC con Im√°genes</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2b2b2b;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }
        h2 { margin-bottom: 10px; color: #00d2ff; }
        
        #status-message {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #444;
            border-left: 5px solid #00d2ff;
            border-radius: 4px;
            width: 80%;
            text-align: center;
            font-size: 1.1em;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            width: 100%;
            max-width: 1000px;
        }

        /* --- ESTILOS DEL MEN√ö DE PIEZAS (IZQUIERDA) --- */
        .parts-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #3a3a3a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            min-width: 150px;
        }
        
        .panel-title { text-align: center; color: #ccc; margin-bottom: 10px; font-weight: bold; }

        .component {
            width: 120px;
            height: 100px;
            background-color: white;
            border-radius: 8px;
            cursor: grab;
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s;
            /* Ajustes para que la imagen se vea bien */
            background-size: contain; 
            background-repeat: no-repeat;
            background-position: center;
            border: 2px solid #555;
        }
        
        .component:hover { transform: scale(1.05); border-color: #00d2ff; }
        .component:active { cursor: grabbing; }

        /* --- IM√ÅGENES REALES (URLs P√∫blicas) --- */
        /* Placa Base */
        #comp-placa { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Computer-motherboard.jpg/320px-Computer-motherboard.jpg'); }
        /* CPU */
        #comp-cpu { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Intel_80486DX2_top.jpg/320px-Intel_80486DX2_top.jpg'); }
        /* RAM */
        #comp-ram { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/DDR3_RAM.jpg/320px-DDR3_RAM.jpg'); }
        /* Tarjeta Gr√°fica */
        #comp-gpu { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Nvidia_GeForce_GTX_660_Ti.jpg/320px-Nvidia_GeForce_GTX_660_Ti.jpg'); }
        /* Fuente de Poder */
        #comp-fuente { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/ATX_Power_Supply.jpg/320px-ATX_Power_Supply.jpg'); }

        /* Etiqueta de texto debajo de cada imagen */
        .component::after {
            content: attr(data-name);
            position: absolute;
            bottom: -20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 12px;
            color: #ccc;
            background: transparent;
        }

        /* --- ZONA DE ENSAMBLAJE (GABINETE) --- */
        .build-zone {
            width: 500px;
            height: 550px;
            background-color: #1a1a1a;
            border: 4px dashed #555;
            border-radius: 15px;
            position: relative;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Empty_ATX_Computer_Case.jpg/450px-Empty_ATX_Computer_Case.jpg');
            background-size: cover;
            background-position: center;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
        }

        .build-zone.drag-over {
            border-color: #00ff00;
            box-shadow: 0 0 20px #00ff00;
        }

        /* --- PIEZAS INSTALADAS --- */
        /* Estilos espec√≠ficos para cuando la pieza ya est√° "dentro" del PC */
        .installed {
            position: absolute;
            cursor: default;
            box-shadow: none;
            border: none;
            background-color: transparent;
            z-index: 10;
        }

        /* POSICIONAMIENTO EN EL GABINETE (Ajustado "a ojo" para encajar) */
        #installed-placa { 
            width: 320px; height: 320px; 
            top: 50px; left: 60px; 
            z-index: 1; 
        }
        #installed-cpu { 
            width: 50px; height: 50px; 
            top: 150px; left: 195px; 
            z-index: 3; 
        }
        #installed-ram { 
            width: 10px; height: 120px; /* La RAM va vertical a veces o horizontal seg√∫n la foto */
            top: 120px; left: 260px; 
            transform: rotate(0deg); /* Ajuste visual */
            z-index: 3; 
        }
        #installed-gpu { 
            width: 200px; height: 60px; 
            top: 250px; left: 80px; 
            z-index: 4; 
        }
        #installed-fuente { 
            width: 150px; height: 100px; 
            bottom: 20px; left: 50px; 
            z-index: 2; 
        }

    </style>
</head>
<body>

    <h2>üõ†Ô∏è Simulador de Ensamble PC</h2>
    <div id="status-message">Instrucci√≥n: Arrastra la <b>Placa Base</b> dentro del gabinete vac√≠o.</div>

    <div class="container">
        <div class="parts-panel">
            <div class="panel-title">Componentes</div>
            <div class="component" draggable="true" id="comp-fuente" data-name="Fuente de Poder"></div>
            <div class="component" draggable="true" id="comp-gpu" data-name="Tarjeta Gr√°fica"></div>
            <div class="component" draggable="true" id="comp-cpu" data-name="Procesador (CPU)"></div>
            <div class="component" draggable="true" id="comp-placa" data-name="Placa Base"></div>
            <div class="component" draggable="true" id="comp-ram" data-name="Memoria RAM"></div>
        </div>

        <div class="build-zone" id="case-dropzone">
            </div>
    </div>

    <script>
        // --- L√ìGICA (JavaScript) ---
        
        // Orden estricto de instalaci√≥n
        const assemblyOrder = ['comp-placa', 'comp-cpu', 'comp-ram', 'comp-gpu', 'comp-fuente'];
        const componentNames = {
            'comp-placa': 'Placa Base',
            'comp-cpu': 'Procesador',
            'comp-ram': 'Memoria RAM',
            'comp-gpu': 'Tarjeta Gr√°fica',
            'comp-fuente': 'Fuente de Poder'
        };

        let currentStep = 0;

        const parts = document.querySelectorAll('.component');
        const dropZone = document.getElementById('case-dropzone');
        const statusMsg = document.getElementById('status-message');

        parts.forEach(part => {
            part.addEventListener('dragstart', dragStart);
        });

        dropZone.addEventListener('dragover', dragOver);
        dropZone.addEventListener('dragleave', dragLeave);
        dropZone.addEventListener('drop', dropEvent);

        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.id);
        }

        function dragOver(e) {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        }

        function dragLeave(e) {
            dropZone.classList.remove('drag-over');
        }

        function dropEvent(e) {
            e.preventDefault();
            dropZone.classList.remove('drag-over');

            const draggedItemId = e.dataTransfer.getData('text');
            
            // Verificamos si existe el elemento (por seguridad)
            if(!draggedItemId) return;
            const draggedElement = document.getElementById(draggedItemId);

            // 1. VALIDACI√ìN: ¬øEs la pieza correcta?
            if (draggedItemId === assemblyOrder[currentStep]) {
                installComponent(draggedElement);
            } else {
                // Mensaje de Error
                const needed = componentNames[assemblyOrder[currentStep]];
                const tried = componentNames[draggedItemId];
                statusMsg.style.borderLeftColor = "#ff4444";
                statusMsg.innerHTML = `‚õî <b>Error:</b> Intentaste poner "${tried}". <br>Primero necesitas instalar: <b>${needed}</b>.`;
            }
        }

        function installComponent(element) {
            // Clonamos la imagen
            const installedComponent = element.cloneNode(true);
            installedComponent.classList.add('installed');
            installedComponent.setAttribute('draggable', 'false');
            
            // Generamos ID nuevo para posicionarlo con CSS
            installedComponent.id = 'installed-' + element.id.replace('comp-', '');

            // Agregamos al gabinete
            dropZone.appendChild(installedComponent);
            
            // Eliminamos del men√∫ original
            element.remove();

            // Avanzamos paso
            currentStep++;
            updateStatus();
        }

        function updateStatus() {
            if (currentStep >= assemblyOrder.length) {
                statusMsg.style.borderLeftColor = "#00ff00";
                statusMsg.innerHTML = "‚úÖ <b>¬°Excelente!</b> Has ensamblado la PC completa.";
            } else {
                const nextPart = componentNames[assemblyOrder[currentStep]];
                statusMsg.style.borderLeftColor = "#00d2ff";
                statusMsg.innerHTML = `‚úÖ Correcto. Siguiente paso: Instala <b>${nextPart}</b>.`;
            }
        }
    </script>
</body>
</html>
