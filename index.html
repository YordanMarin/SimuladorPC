<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador PC - Fotos Reales</title>
    <style>
        /* --- ESTILOS GENERALES --- */
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #1a1a1a;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        /* Cabecera y Bot√≥n */
        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 800px;
            margin-bottom: 20px;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        h2 { margin: 0; color: #00d2ff; }

        .btn-reset {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: background 0.2s;
        }
        .btn-reset:hover { background-color: #c0392b; }

        /* Mensaje de Estado */
        #status-message {
            background: #333;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 5px solid #00d2ff;
            text-align: center;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        /* --- MEN√ö DE PIEZAS --- */
        .parts-panel {
            background: #252525;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-width: 160px;
            border: 1px solid #444;
        }

        .component {
            width: 130px;
            height: 100px;
            cursor: grab;
            border-radius: 6px;
            border: 2px solid #555;
            background-color: white; /* Fondo blanco para que se vea la foto */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: transform 0.2s, border-color 0.2s;
            position: relative;
        }
        
        .component:hover { transform: scale(1.05); border-color: #00d2ff; }
        .component:active { cursor: grabbing; }

        /* Etiquetas de texto debajo de las fotos */
        .component::after {
            content: attr(data-name);
            position: absolute;
            bottom: -20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 11px;
            color: #ccc;
        }

        /* --- FOTOS DE LOS COMPONENTES (URL Estables) --- */
        #comp-placa { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Asus_P5K_SE_Motherboard.jpg/320px-Asus_P5K_SE_Motherboard.jpg'); }
        #comp-cpu { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Intel_80486DX2-66_top_with_heatsink_compound.jpg/320px-Intel_80486DX2-66_top_with_heatsink_compound.jpg'); }
        #comp-ram { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Swissbit_2GB_PC2-5300U-555.jpg/320px-Swissbit_2GB_PC2-5300U-555.jpg'); }
        #comp-gpu { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Nvidia_Geforce_6600GT.jpg/320px-Nvidia_Geforce_6600GT.jpg'); }
        #comp-fuente { background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/ATX_PS.jpg/320px-ATX_PS.jpg'); }


        /* --- ZONA DE GABINETE --- */
        .build-zone {
            width: 450px;
            height: 550px;
            background-color: #000;
            border: 4px dashed #555;
            border-radius: 10px;
            position: relative;
            /* Foto del Gabinete */
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Empty_ATX_case.jpg/450px-Empty_ATX_case.jpg');
            background-size: cover;
            background-position: center;
        }

        .build-zone.drag-over {
            border-color: #00ff00;
            box-shadow: 0 0 20px rgba(0,255,0,0.3);
        }

        /* --- PIEZAS YA INSTALADAS --- */
        .installed {
            position: absolute;
            cursor: default;
            z-index: 10;
            background-color: transparent; /* Quitar fondo blanco al instalar */
            border: none;
        }
        .installed::after { content: none; } /* Quitar texto al instalar */

        /* Posiciones exactas dentro del gabinete */
        #installed-placa {
            width: 320px; height: 350px;
            top: 50px; left: 60px;
            z-index: 1;
        }
        #installed-cpu {
            width: 60px; height: 60px;
            top: 150px; left: 190px;
            z-index: 2;
        }
        #installed-ram {
            width: 120px; height: 30px;
            top: 120px; left: 240px;
            transform: rotate(90deg);
            z-index: 2;
        }
        #installed-gpu {
            width: 200px; height: 50px;
            top: 280px; left: 80px;
            z-index: 3;
        }
        #installed-fuente {
            width: 140px; height: 90px;
            bottom: 30px; right: 40px;
            z-index: 2;
        }

    </style>
</head>
<body>

    <div class="header-controls">
        <h2>Simulador PC</h2>
        <button class="btn-reset" onclick="resetSim()">‚Ü∫ Reiniciar Todo</button>
    </div>

    <div id="status-message">Instrucci√≥n: Arrastra la <b>Placa Base</b> dentro del gabinete.</div>

    <div class="container">
        
        <div class="parts-panel">
            <div class="component" draggable="true" id="comp-fuente" data-name="Fuente de Poder"></div>
            <div class="component" draggable="true" id="comp-gpu" data-name="Tarjeta de Video"></div>
            <div class="component" draggable="true" id="comp-cpu" data-name="Procesador (CPU)"></div>
            <div class="component" draggable="true" id="comp-ram" data-name="Memoria RAM"></div>
            <div class="component" draggable="true" id="comp-placa" data-name="Placa Base"></div>
        </div>

        <div class="build-zone" id="case-dropzone">
            </div>
    </div>

    <script>
        // --- L√ìGICA ---
        const assemblyOrder = ['comp-placa', 'comp-cpu', 'comp-ram', 'comp-gpu', 'comp-fuente'];
        
        const componentNames = {
            'comp-placa': 'Placa Base',
            'comp-cpu': 'Procesador',
            'comp-ram': 'Memoria RAM',
            'comp-gpu': 'Tarjeta de Video',
            'comp-fuente': 'Fuente de Poder'
        };

        let currentStep = 0;

        const parts = document.querySelectorAll('.component');
        const dropZone = document.getElementById('case-dropzone');
        const statusMsg = document.getElementById('status-message');

        // Funci√≥n para REINICIAR
        function resetSim() {
            location.reload(); // Recarga la p√°gina para empezar de cero
        }

        // Configuraci√≥n Drag & Drop
        parts.forEach(part => {
            part.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.id);
                e.target.style.opacity = '0.5';
            });
            part.addEventListener('dragend', (e) => {
                e.target.style.opacity = '1';
            });
        });

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', (e) => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');

            const id = e.dataTransfer.getData('text');
            const element = document.getElementById(id);

            // Validar si el elemento existe (para evitar errores)
            if (!element) return;

            // L√≥gica de orden
            if (id === assemblyOrder[currentStep]) {
                // Correcto
                installComponent(element, id);
            } else {
                // Error
                const needed = componentNames[assemblyOrder[currentStep]];
                const tried = componentNames[id];
                statusMsg.innerHTML = `‚ùå Error: Intentas poner <b>${tried}</b>.<br>Primero necesitas instalar: <b>${needed}</b>.`;
                statusMsg.style.borderLeftColor = "#e74c3c"; // Rojo
            }
        });

        function installComponent(element, id) {
            // Clonar nodo para moverlo al gabinete
            const clone = element.cloneNode(true);
            clone.id = 'installed-' + id.replace('comp-', '');
            clone.classList.add('installed');
            clone.setAttribute('draggable', 'false');
            
            dropZone.appendChild(clone);
            element.remove(); // Eliminar del men√∫ lateral

            currentStep++;
            updateStatus();
        }

        function updateStatus() {
            if (currentStep >= assemblyOrder.length) {
                statusMsg.innerHTML = "üéâ <b>¬°Excelente!</b> PC Ensamblada correctamente.";
                statusMsg.style.borderLeftColor = "#2ecc71"; // Verde
            } else {
                const nextPart = componentNames[assemblyOrder[currentStep]];
                statusMsg.innerHTML = `‚úÖ Correcto. Siguiente paso: Instala <b>${nextPart}</b>.`;
                statusMsg.style.borderLeftColor = "#00d2ff"; // Azul
            }
        }
    </script>
</body>
</html>
