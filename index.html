<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador PC CSS</title>
    <style>
        /* --- ESTILO GENERAL --- */
        body {
            font-family: Arial, sans-serif;
            background-color: #121212; /* Fondo muy oscuro */
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        h2 { border-bottom: 2px solid #00d2ff; padding-bottom: 10px; }

        /* Caja de Mensajes */
        #status-message {
            background: #333;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 5px solid #00d2ff;
            text-align: center;
            width: 90%;
            max-width: 600px;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
        }

        /* --- PANEL DE PIEZAS (DERECHA) --- */
        .parts-panel {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-width: 180px;
            border: 1px solid #444;
        }

        /* ESTILO DE LOS COMPONENTES (DIBUJADOS CON CSS) */
        .component {
            width: 140px;
            height: 80px;
            cursor: grab;
            position: relative;
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            text-shadow: 1px 1px 2px black;
            box-shadow: 0 4px 6px rgba(0,0,0,0.5);
            transition: transform 0.2s;
        }

        .component:hover { transform: scale(1.05); }
        .component:active { cursor: grabbing; }

        /* Colores y formas para simular las piezas */
        #comp-placa { 
            background: #d35400; /* Naranja */
            border: 2px solid #e67e22;
        }
        #comp-placa::before { content: "Mainboard"; }

        #comp-cpu { 
            background: #2980b9; /* Azul */
            border: 2px solid #3498db;
        }
        #comp-cpu::before { content: "CPU"; }

        #comp-ram { 
            background: #27ae60; /* Verde */
            border: 2px solid #2ecc71;
            height: 40px; /* M√°s delgada */
        }
        #comp-ram::before { content: "RAM DDR4"; }

        #comp-gpu { 
            background: #8e44ad; /* Morado */
            border: 2px solid #9b59b6;
        }
        #comp-gpu::before { content: "GPU / Video"; }

        #comp-fuente { 
            background: #7f8c8d; /* Gris */
            border: 2px solid #bdc3c7;
        }
        #comp-fuente::before { content: "Fuente Poder"; }


        /* --- GABINETE / ZONA DE ENSAMBLE --- */
        .build-zone {
            width: 400px;
            height: 500px;
            background-color: #000;
            border: 4px dashed #555;
            border-radius: 10px;
            position: relative;
            /* Dibujo del fondo del gabinete con CSS */
            background-image: linear-gradient(#1a1a1a 2px, transparent 2px), linear-gradient(90deg, #1a1a1a 2px, transparent 2px);
            background-size: 40px 40px;
        }

        .build-zone.drag-over {
            border-color: #00ff00;
            background-color: #111;
        }

        /* --- PIEZAS YA INSTALADAS (POSICIONES FIJAS) --- */
        .installed {
            position: absolute;
            cursor: default;
            box-shadow: none;
            z-index: 10;
        }

        /* Ajustamos tama√±o y posici√≥n de cada pieza al entrar al gabinete */
        #installed-placa {
            width: 300px; height: 350px;
            top: 20px; left: 50px;
            z-index: 1;
        }
        #installed-cpu {
            width: 60px; height: 60px;
            top: 100px; left: 170px; /* Centrado en la placa */
            z-index: 2;
            font-size: 10px;
        }
        #installed-ram {
            width: 10px; height: 120px; /* Vertical */
            top: 80px; left: 240px;
            z-index: 2;
            writing-mode: vertical-rl; /* Texto vertical */
            font-size: 10px;
        }
        #installed-gpu {
            width: 250px; height: 50px;
            top: 250px; left: 60px;
            z-index: 3;
        }
        #installed-fuente {
            width: 150px; height: 100px;
            bottom: 10px; right: 10px;
            z-index: 2;
        }

    </style>
</head>
<body>

    <h2>Simulador de Ensamble</h2>
    <div id="status-message">üëâ Arrastra la <b>Placa Base (Mainboard)</b> al gabinete.</div>

    <div class="container">
        
        <div class="parts-panel">
            <div class="component" draggable="true" id="comp-fuente"></div>
            <div class="component" draggable="true" id="comp-gpu"></div>
            <div class="component" draggable="true" id="comp-cpu"></div>
            <div class="component" draggable="true" id="comp-ram"></div>
            <div class="component" draggable="true" id="comp-placa"></div>
        </div>

        <div class="build-zone" id="case-dropzone">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #333; pointer-events: none;">
                GABINETE VAC√çO
            </div>
        </div>
    </div>

    <script>
        // --- L√ìGICA DEL SIMULADOR ---

        const assemblyOrder = ['comp-placa', 'comp-cpu', 'comp-ram', 'comp-gpu', 'comp-fuente'];
        
        // Nombres bonitos para mostrar errores
        const niceNames = {
            'comp-placa': 'Placa Base',
            'comp-cpu': 'Procesador (CPU)',
            'comp-ram': 'Memoria RAM',
            'comp-gpu': 'Tarjeta de Video',
            'comp-fuente': 'Fuente de Poder'
        };

        let currentStep = 0;

        const parts = document.querySelectorAll('.component');
        const dropZone = document.getElementById('case-dropzone');
        const statusMsg = document.getElementById('status-message');

        // Configurar eventos de arrastre
        parts.forEach(part => {
            part.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.id);
                e.target.style.opacity = '0.5';
            });
            
            part.addEventListener('dragend', (e) => {
                e.target.style.opacity = '1';
            });
        });

        // Configurar eventos de la zona de destino
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault(); // Necesario para permitir soltar
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', (e) => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');

            const id = e.dataTransfer.getData('text');
            const element = document.getElementById(id);

            // Validar l√≥gica
            if (id === assemblyOrder[currentStep]) {
                // √âXITO
                const clone = element.cloneNode(true);
                clone.id = 'installed-' + id.replace('comp-', ''); // Cambiar ID para CSS posicional
                clone.classList.add('installed');
                clone.setAttribute('draggable', 'false');
                
                dropZone.appendChild(clone);
                element.remove(); // Borrar del men√∫
                
                currentStep++;
                checkProgress();

            } else {
                // ERROR
                const correctPart = niceNames[assemblyOrder[currentStep]];
                statusMsg.innerHTML = `‚ùå Incorrecto. Debes instalar: <b>${correctPart}</b>`;
                statusMsg.style.borderLeftColor = "red";
            }
        });

        function checkProgress() {
            if (currentStep >= assemblyOrder.length) {
                statusMsg.innerHTML = "‚úÖ ¬°Felicidades! PC Ensamblada correctamente.";
                statusMsg.style.borderLeftColor = "#00ff00";
            } else {
                const nextPart = niceNames[assemblyOrder[currentStep]];
                statusMsg.innerHTML = `‚úÖ Correcto. Ahora instala: <b>${nextPart}</b>`;
                statusMsg.style.borderLeftColor = "#00d2ff";
            }
        }
    </script>
</body>
</html>
